---
title: "Raspberry Pi4 ModelBã¸ã®Node.jsã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‹ã‚‰Lãƒã‚«ã¾ã§ã®ãƒ¡ãƒ¢"
emoji: "ğŸ“"
type: "tech"
topics: ["Nodejs","RaspberryPi","WSL"]
published: true
---
ã„ã–ã€ãƒ©ã‚ºãƒ‘ã‚¤ã«Node.jsã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã‚ˆã†ã¨ã—ãŸã‚‰æ–°ã—ã„è¨˜äº‹ãŒå°‘ãªãã¦çµæ§‹è‹¦æˆ¦ã—ãŸã®ã§ãƒ¡ãƒ¢ä»£ã‚ã‚Šã«åˆã‚ã¦è¨˜äº‹ã‚’æ›¸ã„ã¦ã¿ã¾ã—ãŸã€‚

# ç’°å¢ƒ
- Raspberry Pi 4 Model B 4GB
- Raspberry Pi OS 64bit

# æ‰‹é †
## Node.jsã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
ãƒ©ã‚ºãƒ‘ã‚¤å´ã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œ

```
$ cd~
# ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
$ wget https://nodejs.org/dist/v20.12.2/node-v20.12.2-linux-arm64.tar.xz
# å±•é–‹
$ tar xJvf node-v20.12.2-linux-arm64.tar.xz
#å±•é–‹ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼
$ sudo cp -r node-v20.12.2-linux-arm64/* /usr/local/
#ä¸è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã®æ¶ˆå»
$ rm node-v20.12.2-linux-arm64.tar.xz
& rm -r node-v20.12.2-linux-arm64/
# ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å®Œäº†ï¼
$ node -v
$ npm -v
```
![](https://storage.googleapis.com/zenn-user-upload/029ed0cc0f95-20240502.png)
@[card](https://nodejs.org/en/download/prebuilt-binaries)
â€»/usr/local/binã¯ç’°å¢ƒå¤‰æ•°passã«äºˆã‚ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹ã®ã§æ”¹ã‚ã¦passã‚’é€šã™å¿…è¦ã¯ãªã„ã§ã™ã€‚
rootæ¨©é™ä¸‹ã§ã‚‚å•é¡Œãªãå‹•ãã¾ã—ãŸã€‚(ä¾‹:```$sudo node -v```)

## Lãƒã‚«ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®æº–å‚™
```
& cd ~
$ mkdir test
$ cd test/
$ touch index.js
$ npm install pigpio
```
ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’index.jsã¸ã‚³ãƒ”ãƒ¼
```js:index.js
const Gpio = require('pigpio').Gpio;
const {setTimeout} = require('timers/promises');

(async() => {
    const no = 4;
    const pin = new Gpio(no,{mode: Gpio.OUTPUT});
    while (true){
        pin.digitalWrite(1);
        await setTimeout(1000);
        pin.digitalWrite(0);
        await setTimeout(1000);
    }
})();
```
## å›è·¯åˆ¶ä½œ
é›»æºé›»åœ§(E=3.3v),LEDé †é›»åœ§(Vf=2.1v),é †é›»æµ(If=50mA)ã§ã™ãŒã€GPIOç«¯å­ã«æµã›ã‚‹é›»æµãŒ16mAãªã®ã§If=0.016Aã¨ã—ã¾ã™ã€‚

$$
R=(3.3-2.1)/0.016=75Î©
$$
75Î©ä»¥ä¸Šã®æŠµæŠ—ãŒå¿…è¦ãªã®ã§ä»Šå›ã¯æ‰‹å…ƒã«ã‚ã£ãŸ220Î©ã®æŠµæŠ—ã‚’ä½¿ç”¨ã—ã¾ã—ãŸã€‚
![](https://storage.googleapis.com/zenn-user-upload/d46db3dad5c3-20240502.jpg =250x)![](https://storage.googleapis.com/zenn-user-upload/2e1d6abd7689-20240502.jpg =250x)
å›è·¯å›³ã®æ›¸ãæ–¹ã‚ˆãã‚ã‹ã‚“ãªã„ã‚“ã§é–“é•ã£ã¦ãŸã‚‰ã”ã‚ã‚“ãªã•ã„ã€ã€
## å®Ÿè¡Œ
testãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§```$sudo node index.js```ã‚’å®Ÿè¡Œ

# å‚è€ƒã«ã—ãŸè¨˜äº‹
@[card](https://qiita.com/sda134/items/7c55a537401eaa9679c6)
@[card](https://zenn.dev/tmitsuoka0423/articles/nodejs-raspberry-pi-setup)
@[card](https://qiita.com/sda134/items/7c55a537401eaa9679c6)

